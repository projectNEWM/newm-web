/*! For license information please see 5887.7d309f6378939af73419.chunk.js.LICENSE.txt */
(self.webpackChunkyoroi=self.webpackChunkyoroi||[]).push([[5887],{72882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(2991),l=n.n(a),o=n(62462),r=n.n(o),i=n(99095),s=n(70798),c=n(90948),d=n(99226),p=n(26447),u=n(23972),g=n(48643),x=n(93379),h=n.n(x),m=n(25813);h()(m.Z,{insert:"head",singleton:!1});const f=m.Z.locals||{};var y=n(48521);const v=(0,c.ZP)(d.Z)((({theme:e})=>({"& svg":{"& path":{fill:e.palette.ds.bg_color_max},"& rect":{fill:e.palette.ds.text_primary_min}}}))),b=(0,i.injectIntl)((0,s.Pi)((function(e){const{intl:t,steps:n,currentStep:a,setCurrentStep:o,sx:i}=e,s=r()(n).call(n,(e=>e.stepId===a));if(-1===s)throw new Error("Step to found. Should never happen");return(0,y.jsx)(p.Z,{sx:{flexDirection:"row",...i},className:f.stackContainer,children:l()(n).call(n,(({stepId:e,message:n},a)=>{const l=s===a,r=a<s;let i="ds.text_gray_min",c="pointer";return l?i="primary.600":r&&(i="primary.300"),a>s&&(c="not-allowed"),(0,y.jsxs)(p.Z,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"center"},onClick:()=>{r&&o(e)},children:[(0,y.jsx)(d.Z,{component:"button",sx:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",mr:"8px",...r?{}:{borderWidth:"2.5px",borderStyle:"solid"},bgcolor:l?"ds.text_primary_medium":"unset",borderRadius:"50%",transition:"color 300ms ease",cursor:c,borderColor:l?"ds.text_primary_medium":i},children:r?(0,y.jsx)(v,{children:(0,y.jsx)(g.r,{})}):(0,y.jsx)(u.Z,{component:"div",variant:"body2",fontWeight:500,color:l?"ds.bg_color_max":i,lineHeight:"27px",children:a+1})}),(0,y.jsx)(u.Z,{component:"div",sx:{cursor:c},variant:"body1",color:l?"ds.text_primary_medium":i,fontWeight:500,children:t.formatMessage(n)})]},e)}))})})))},45887:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ze});var a=n(86902),l=n.n(a),o=n(2991),r=n.n(o),i=n(20116),s=n.n(i),c=n(67294),d=n(99095),p=n(99226),u=n(23972),g=n(70798),x=n(56474),h=n.n(x),m=n(85412);const f=h()({SELECT_NETWORK:"SELECT_NETWORK",SELECT_WALLET_TYPE:"SELECT_WALLET_TYPE",ENTER_RECOVERY_PHRASE:"ENTER_RECOVERY_PHRASE",ADD_WALLET_DETAILS:"ADD_WALLET_DETAILS"});var y=n(65593),v=n(26447),b=n(25823);const _=n.p+"336e199187d2a6e961b889555f1c97bd.svg",w=n.p+"cde5ce19fc786ba50d209ac6a402991c.svg";var E=n(8998),W=n(93379),S=n.n(W),j=n(55807);S()(j.Z,{insert:"head",singleton:!1});const I=j.Z.locals||{};var R=n(38043),T=n(48521);const C=(0,d.defineMessages)({fifteenWords:{id:"wallet.restore.type.fifteen",defaultMessage:"!!!15-word recovery phrase"},twentyfourWords:{id:"wallet.restore.type.twentyfour",defaultMessage:"!!!24-word recovery phrase"}}),Z=(0,d.injectIntl)((0,g.Pi)((function(e){const{onNext:t,goBack:n,intl:a}=e;return(0,T.jsx)(v.Z,{alignItems:"center",justifyContent:"center",children:(0,T.jsxs)(v.Z,{direction:"column",alignItems:"center",justifyContent:"center",maxWidth:"648px",children:[(0,T.jsxs)(p.Z,{className:I.container,id:"selectWalletTypeStepBox",children:[(0,T.jsx)(E.Z,{onClick:()=>t({type:"cip1852",extra:void 0,length:15}),imageSrc:_,label:a.formatMessage(C.fifteenWords),id:"fifteenWordsButton"}),(0,T.jsx)(E.Z,{onClick:()=>t({type:"cip1852",extra:void 0,length:24}),imageSrc:w,label:a.formatMessage(C.twentyfourWords),id:"twentyfourWordsButton"})]}),(0,T.jsx)(p.Z,{mt:"74px",children:(0,T.jsx)(b.Z,{actions:[{label:a.formatMessage(R.default.backButtonLabel),disabled:!1,onClick:n,type:"secondary"}]})})]})})})));var L=n(72882),A=n(54103),D=n.n(A),N=n(77149),P=n.n(N),k=n(89400),M=n.n(k),O=n(11128),B=n.n(O),H=n(44494),V=n.n(H),Y=n(87672),K=n.n(Y),F=n(96486),z=n(11634),U=n.n(z),$=n(72913),q=(n(63139),n(52298)),G=n(52974),X=n(25843),J=n.n(X),Q=n(29828),ee=n.n(Q),te=n(33442),ne=n(79332),ae=n(53640),le=n(35450);function oe({options:e,error:t=null,maxVisibleOptions:n=5,noResultsMessage:a,id:l,onChange:o,onFocus:i,value:d,autoFocus:u,type:g,name:x,placeholder:h,isVerified:m,inputRef:f,prevFieldRef:y,nextFieldRef:v}){var b;const[_,w]=(0,c.useState)(d||""),E=(null!==(b=null==_?void 0:_.length)&&void 0!==b?b:0)>0,{getCachedOptions:W}=function(e){const t={};return{getCachedOptions:n=>n?(t[n]||(t[n]=s()(e).call(e,(e=>{var t,a;return ee()(t=e.toLowerCase()).call(t,null!==(a=null==n?void 0:n.toLowerCase())&&void 0!==a?a:"")}))),t[n]):[]}}(e),S=E?W(_):[],j=E&&0===S.length,{isOpen:I,getMenuProps:R,getInputProps:C,getComboboxProps:Z,highlightedIndex:L,getItemProps:A,closeMenu:D}=(0,te.Kb)({inputValue:_,defaultHighlightedIndex:0,selectedItem:"",items:S,stateReducer:(e,t)=>{const{changes:n,type:a}=t;switch(a){case te.Kb.stateChangeTypes.InputKeyDownEnter:case te.Kb.stateChangeTypes.ItemClick:case te.Kb.stateChangeTypes.InputChange:return{...n,isOpen:!0};default:return n}},onStateChange:({inputValue:e,type:t,selectedItem:n})=>{var a,l;const r=null!==(a=null==e?void 0:J()(e).call(e))&&void 0!==a?a:"",i=null!==(l=null==_?void 0:J()(_).call(_))&&void 0!==l?l:"";if(t===te.Kb.stateChangeTypes.InputBlur){var s;const e=null!==(s=S[-1!==L?L:0])&&void 0!==s?s:"",t=!n&&!Boolean(r),a=Boolean(i)&&Boolean(e);if(t&&a)return o(e),w(e),void D()}switch(t){case te.Kb.stateChangeTypes.InputChange:0===r.length&&(D(),o(r)),w(r);break;case te.Kb.stateChangeTypes.InputKeyDownEnter:case te.Kb.stateChangeTypes.ItemClick:case te.Kb.stateChangeTypes.InputBlur:(n||Boolean(r))&&(o(n||r),w(n||r),D())}}});return(0,T.jsxs)(ce,{error:Boolean(t),onKeyDownCapture:e=>{const{target:t,code:n,shiftKey:a}=e,l=0===(null==_?void 0:_.length);var o;"Tab"===n&&j&&!a&&e.preventDefault(),"Space"===n&&l&&e.preventDefault(),"Enter"!==n&&"Space"!==n||!I||j||(t.blur(),v&&v.focus()),("Backspace"===n||"ArrowLeft"===n)&&l&&y&&(e.preventDefault(),y.focus(),y.setSelectionRange(0,null===(o=y.value)||void 0===o?void 0:o.length))},children:[(0,T.jsx)(se,{isVerified:m,onClick:()=>!I,error:j,isOpen:I,children:(0,T.jsx)(p.Z,{...Z(),children:(0,T.jsx)(ne.Z,{inputRef:f,placeholder:h,disableUnderline:!0,fullWidth:!0,autoFocus:u,error:Boolean(t),id:null!=l?l:"autocomplete-combobox",value:d,onBlur:o,onFocus:i,...C({type:g,name:x,autoFocus:u})})})}),(0,T.jsx)(ie,{component:"ul",...R(),sx:{boxShadow:I?"0px 3px 10px rgba(24, 26, 30, 0.08)":"unset",maxHeight:44*n+"px",color:"ds.gray_900",borderRadius:"8px",width:"120px","&::-webkit-scrollbar":{display:"none"}},children:I&&(0,T.jsx)(T.Fragment,{children:0===S.length?(0,T.jsx)(p.Z,{sx:{padding:"16px",bgcolor:"ds.bg_color_max"},children:a}):(0,T.jsx)(p.Z,{sx:{paddingY:"8px"},children:r()(S).call(S,((e,t)=>{const n=null!=_?e.replace(_.toLowerCase(),""):e;return(0,T.jsxs)(p.Z,{sx:{padding:"16px",backgroundColor:L===t?"ds.gray_50":"ds.bg_color_max",cursor:"pointer"},...A({item:e,index:t}),children:[(0,T.jsx)("span",{style:{fontWeight:"bold"},children:null==_?void 0:_.toLowerCase()}),(0,T.jsx)("span",{children:n})]},`${e}${t}`)}))})})})]})}const re=oe;oe.defaultProps={error:!1,autoFocus:!1,maxVisibleOptions:5,noResultsMessage:""};const ie=(0,le.Z)(p.Z)((({theme:e})=>({width:"100%",background:e.palette.ds.bg_color_max,margin:0,borderTop:0,position:"absolute",zIndex:1e3,left:0,top:"100%",maxHeight:"30rem",overflowY:"auto",overflowX:"hidden",outline:"0",transition:"opacity .1s ease",borderRadius:0}))),se=(0,le.Z)(p.Z)((({theme:e,error:t,isVerified:n})=>`\n  width: 100%;\n  background-color: transparent;\n  height: 40px;\n  align-content: baseline;\n  display: inline-flex;\n  flex-wrap: wrap;\n  position: relative;\n  cursor: text;\n  margin-bottom: 0;\n  border-radius: 8px;\n  \n  & input {\n    background-color: transparent;\n    color: ${e.palette.primary[600]};\n    font-size: 1rem;\n    padding: 8px;\n    letter-spacing: 0;\n    text-align: center;\n    border: 2px solid ${t?e.palette.ds.sys_magenta_500:e.palette.ds.primary_300};\n    border-radius: 8px;\n    height: 40px;\n    box-sizing: border-box;\n\n    &:focus {\n      border-color: ${t?e.palette.ds.sys_magenta_500:e.palette.ds.el_primary_medium};\n    }\n\n    ${t?"":`&:not([value=""]):not(:focus) {\n        border-color: transparent;\n        border: 0;\n        background: ${n?e.palette.ds.el_secondary:e.palette.ds.primary_100};\n        color: ${n?e.palette.ds.black_static:e.palette.ds.primary_600};\n      }`}\n  }\n`)),ce=(0,le.Z)(ae.Z)({margin:0,padding:0});var de,pe,ue=n(7305),ge=n(16628),xe=n(69397);const he=(0,d.defineMessages)({title:{id:"wallet.restore.dialog.title.label",defaultMessage:"!!!Restore wallet"},titleVerify:{id:"wallet.restore.dialog.title.verify.label",defaultMessage:"!!!Verify Yoroi wallet"},importButtonLabel:{id:"wallet.restore.dialog.restore.wallet.button.label",defaultMessage:"!!!Restore wallet"},verifyButtonLabel:{id:"wallet.restore.dialog.verify.wallet.button.label",defaultMessage:"!!!Verify wallet"},clearAll:{id:"wallet.restore.clearAll",defaultMessage:"!!!Clear all"},verified:{id:"wallet.restore.thirdStep.verifiedRecoveryPhrase",defaultMessage:"!!!The recovery phrase is verified"},incorrectRecoveryPhrase:{id:"wallet.restore.thirdStep.incorrectRecoveryPhrase",defaultMessage:"!!!Incorrect recovery phrase. Please make sure you have written it correctly"}});let me=(0,g.Pi)((pe=class extends c.Component{constructor(...e){var t;super(...e),K()(this,"state",{mounted:!1}),K()(this,"getInitRecoveryPhrase",(()=>{var e;return this.props.initialRecoveryPhrase?this.props.initialRecoveryPhrase.split(" "):V()(e=new Array(this.props.numberOfMnemonics)).call(e,"")})),K()(this,"inputRefs",[]),K()(this,"form",new q.Z({fields:{recoveryPhrase:r()(t=this.getInitRecoveryPhrase()).call(t,((e,t)=>({value:e,label:""})))}},{hooks:{onReset:e=>{e.name="restore-"+B()(),e.reset()}},name:"restore-"+B()(),options:{showErrorsOnInit:!1,validateOnChange:!0,validationDebounceWait:G.Z.forms.FORM_VALIDATION_DEBOUNCE_WAIT},plugins:{vjf:U()()}})),K()(this,"submit",(()=>{this.form.submit({onSuccess:async e=>{const{recoveryPhrase:t}=M()(e).call(e),n=r()(t).call(t,(e=>e.value));await this.props.onSubmit((0,F.join)(n," "))},onError:()=>{}})}))}componentDidMount(){this.setState({mounted:!0}),m.Z.isDev()&&console.log(this.state.mounted)}render(){const{intl:e}=this.context,{isValidMnemonic:t,numberOfMnemonics:n}=this.props,{form:a}=this,{recoveryPhrase:l}=M()(a).call(a),o=l.length===n&&!P()(l).call(l,(e=>!e.value)),i=o&&t(l),s=e.formatMessage(he.incorrectRecoveryPhrase);return i&&!a.submitted&&this.submit(),(0,T.jsxs)(p.Z,{sx:{width:"100%",borderRadius:"8px",marginBottom:"16px"},children:[(0,T.jsx)(v.Z,{gap:"8px",p:"16px 0px",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center",children:null==l?void 0:r()(l).call(l,((t,n)=>{const o=a.$(`recoveryPhrase[${n}].value`),r=D()(o).call(o),s=0===n,c=n===l.length-1;return(0,T.jsx)(v.Z,{children:(0,T.jsxs)(p.Z,{sx:{whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"120px",height:"40px",gap:"4px"},variant:"body1",children:[(0,T.jsxs)(u.Z,{component:"div",variant:"body1",color:"ds.primary_500",width:"24px",children:[n+1,"."]}),(0,T.jsx)(re,{inputRef:e=>{this.inputRefs[n]=e},prevFieldRef:s?null:this.inputRefs[n-1],nextFieldRef:c?null:this.inputRefs[n+1],options:$,isVerified:i,maxSelections:1,maxVisibleOptions:5,noResultsMessage:e.formatMessage(R.default.recoveryPhraseNoResults),...r,onFocus:e=>{var t;return e.target.setSelectionRange(0,null===(t=e.target.value)||void 0===t?void 0:t.length)}})]})},a.name+"-word-"+n)}))}),!i&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(ge.Z,{in:!i,children:(0,T.jsx)(xe.Z,{variant:"outlined",color:"primary",size:"small",onClick:a.onReset,disabled:!P()(l).call(l,(e=>Boolean(e.value))),sx:{border:0,height:"32px",fontSize:"14px",lineHeight:"15px",padding:"0px",mb:"8px",ml:"-6px",minWidth:0,minHeight:0,"&:hover":{border:0},"&.Mui-disabled":{border:0}},id:"clearAllButton",children:e.formatMessage(he.clearAll)})}),(0,T.jsx)(ge.Z,{in:!i&&o,children:(0,T.jsx)(u.Z,{component:"div",variant:"body2",color:"ds.sys_magenta_500",id:"mnemonicErrorText",children:s})})]}),(0,T.jsx)(ge.Z,{in:i,children:(0,T.jsxs)(v.Z,{gap:"10px",direction:"row",mt:"12px",alignItems:"center",children:[(0,T.jsx)(ue.r,{}),(0,T.jsx)(u.Z,{component:"div",variant:"body1",fontWeight:500,id:"validPhraseMessage",color:"ds.gray_900",children:e.formatMessage(he.verified)})]})})]})}},K()(pe,"defaultProps",{error:void 0,initialRecoveryPhrase:""}),K()(pe,"contextTypes",{intl:d.intlShape.isRequired}),de=pe))||de;var fe=n(64666),ye=n(52065),ve=n(21023),be=n(28336),_e=n(19562),we=n(11145),Ee=n(62817),We=(n(55343),n(78265));S()(We.Z,{insert:"head",singleton:!1});const Se=We.Z.locals||{};var je,Ie,Re=n(70526);let Te=(0,g.Pi)((Ie=class extends c.Component{constructor(...e){super(...e),K()(this,"renderAmountDisplay",(e=>{if(null==e.amount)return(0,T.jsx)("div",{className:Se.isLoading});const t=e.amount.getDefaultEntry(),n=this.props.getTokenInfo(t),a=t.amount.shiftedBy(-n.Metadata.numberOfDecimals);let l;if(e.shouldHideBalance)l=(0,T.jsx)("span",{children:Ee.G});else{const[e,t]=(0,be.splitAmount)(a,n.Metadata.numberOfDecimals);l=(0,T.jsxs)(T.Fragment,{children:[e,t]})}return(0,T.jsxs)(T.Fragment,{children:[l," ",(0,be.truncateToken)((0,ye.getTokenName)(n)),this.props.isRefreshing&&(0,T.jsx)("div",{className:Se.isSyncing})]})})),K()(this,"generateNameElem",(e=>{if(e.length<=be.maxNameLengthBeforeTruncation)return e;const t=(0,be.truncateLongName)(e);return(0,T.jsx)(ve.Z,{title:(0,T.jsx)(u.Z,{component:"div",variant:"body3",children:e}),children:(0,T.jsx)(u.Z,{component:"div",variant:"body-2-medium",children:t})})}))}render(){const{shouldHideBalance:e,onUpdateHideBalance:t,walletAmount:n,conceptualWalletName:a}=this.props,[l,o]=this.props.plate?(r=this.props.plate,i=Se.icon,[r.TextPart,(0,T.jsx)("div",{className:i,children:(0,T.jsx)(Re.Z,{iconSeed:r.ImagePart,saturationFactor:0,scalePx:6})})]):[];var r,i;return(0,T.jsxs)("div",{className:Se.wrapper,children:[(0,T.jsxs)("div",{className:Se.plateAndName,children:[o,(0,T.jsxs)("div",{className:Se.content,children:[(0,T.jsx)("div",{className:Se.name,id:"walletInfo-walletName-text",children:this.generateNameElem(a)}),(0,T.jsx)("div",{className:Se.type,children:(0,T.jsx)("div",{className:Se.plate,id:"walletInfo-walletPlate-text",children:l})})]})]}),(0,T.jsxs)("div",{className:Se.amountAndHideIcon,children:[(0,T.jsx)("div",{className:Se.amount,id:"walletInfo-amount-text",children:this.renderAmountDisplay({shouldHideBalance:e,amount:n})}),(0,T.jsx)("button",{type:"button",className:Se.toggleButton,onClick:t,children:e?(0,T.jsx)(we.r,{}):(0,T.jsx)(_e.r,{})})]})]})}},K()(Ie,"contextTypes",{infoText:void 0}),je=Ie))||je;const Ce=(0,d.defineMessages)({dialogTitle:{id:"wallet.restore.dialog.existingWallet.dialogTitle",defaultMessage:"!!!Wallet already exists"},title:{id:"wallet.restore.dialog.existingWallet.title",defaultMessage:"!!!This wallet already exists on your device, You can open it or go back and restore another wallet."},openWallet:{id:"wallet.restore.dialog.walletExist.openWallet",defaultMessage:"!!!Open Wallet"}}),Ze=c.forwardRef(((e,t)=>(0,T.jsx)(ge.Z,{timeout:500,ref:t,...e}))),Le=(0,d.injectIntl)((0,g.Pi)((function(e){const{open:t,onClose:n,onNext:a,intl:l,duplicatedWalletData:o}=e;return(0,T.jsx)(fe.Z,{open:t,onClose:n,TransitionComponent:Ze,id:"duplicatedWalletDialog-dialog",sx:{background:"rgb(18 31 77 / 70%)",display:"flex",justifyContent:"center",alignItems:"center","& .MuiPaper-root":{background:"none",maxWidth:"unset"}},children:(0,T.jsxs)(p.Z,{sx:{width:"648px",background:"var(--yoroi-palette-common-white)",borderRadius:"8px",boxShadow:"0px 13px 20px -1px rgba(0, 0, 0, 0.15)",border:"1px solid grey.200",padding:"24px",display:"flex",justifyContent:"center",flexDirection:"column",gap:"24px"},children:[(0,T.jsx)(p.Z,{children:(0,T.jsx)(u.Z,{component:"div",sx:{fontWeight:"500",textTransform:"uppercase",textAlign:"center"},id:"duplicatedWalletDialog-dialogTitle-text",children:l.formatMessage(Ce.dialogTitle)})}),(0,T.jsxs)(p.Z,{sx:{flex:1,mb:"24px"},children:[(0,T.jsx)(u.Z,{component:"div",textAlign:"left",variant:"body1",fontWeight:"400",mb:"16px",children:l.formatMessage(Ce.title)}),(0,T.jsx)(p.Z,{component:"ul",sx:{listStyle:"outside",mt:"16px"},children:(0,T.jsx)(p.Z,{sx:{display:"flex",flexFlow:"row",gap:"8px"},children:(0,T.jsx)(Te,{plate:o.plate,conceptualWalletName:o.conceptualWalletName,walletAmount:o.balance,onUpdateHideBalance:o.updateHideBalance,shouldHideBalance:o.shouldHideBalance,getTokenInfo:(0,ye.genLookupOrFail)(o.tokenInfo),isRefreshing:!1})})})]}),(0,T.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",gap:"24px",children:[(0,T.jsx)(xe.Z,{variant:"outlined",color:"primary",disableRipple:!1,onClick:n,style:{width:"100%",height:"48px",fontSize:"16px",borderWidth:2},id:"duplicatedWalletDialog-cancel-button",children:l.formatMessage(R.default.cancel)}),(0,T.jsx)(xe.Z,{variant:"contained",color:"primary",disableRipple:!1,onClick:a,style:{width:"100%",height:"48px",fontSize:"16px"},id:"duplicatedWalletDialog-openWallet-button",children:l.formatMessage(Ce.openWallet)})]})]})})}))),Ae=h()({LEARN_ABOUT_RECOVERY_PHRASE:"LEARN_ABOUT_RECOVER_PHRASE",SAVE_RECOVERY_PHRASE:"SAVE_RECOVERY_PHRASE",DUPLICATED_WALLET:"DUPLICATED_WALLET"});var De=n(90649);const Ne=(0,d.defineMessages)({description:{id:"wallet.restore.thirdStep.description",defaultMessage:"!!!Add the <strong>recovery phrase</strong> you received upon your wallet creation process to <strong>restore</strong> your <strong>wallet</strong> in Yoroi."}}),Pe=(0,d.injectIntl)((0,g.Pi)((function(e){const[t,n]=(0,c.useState)(!1),[a,l]=(0,c.useState)(null),{intl:o,setCurrentStep:i,mode:s,checkValidPhrase:g,onSubmit:x,openDuplicatedWallet:h,isDialogOpen:m,closeDialog:y,openDialog:_,duplicatedWalletData:w,initialRecoveryPhrase:E}=e,W=m(Le),S=()=>i(f.SELECT_WALLET_TYPE),{length:j}=null!=s?s:(0,De.fail)("No mnemonic length is selected!");return(0,T.jsxs)(v.Z,{alignItems:"center",justifyContent:"center",id:"enterRecoveryPhraseStepComponent",children:[(0,T.jsxs)(v.Z,{direction:"column",alignItems:"left",justifyContent:"center",maxWidth:15===j?"636px":"760px",children:[(0,T.jsx)(u.Z,{component:"div",mb:"16px",children:(0,T.jsx)(d.FormattedHTMLMessage,{...Ne.description})}),(0,T.jsx)(me,{numberOfMnemonics:j,isValidMnemonic:function(e){const t=r()(e).call(e,(e=>e.value)).join(" ");return g(t)},onSubmit:async function(e){const t=await x(e);Boolean(t)?(l(t),_(Le)):n(!0)},initialRecoveryPhrase:E}),(0,T.jsx)(p.Z,{mt:"10px",children:(0,T.jsx)(b.Z,{actions:[{label:o.formatMessage(R.default.backButtonLabel),disabled:!1,onClick:S,type:"secondary"},{label:o.formatMessage(R.default.nextButtonLabel),disabled:!t,onClick:()=>i(f.ADD_WALLET_DETAILS),type:"primary"}]})})]}),w&&(0,T.jsx)(Le,{duplicatedWalletData:w,open:W,onClose:function(){S(),y(Ae.DUPLICATED_WALLET)},onNext:()=>h(a)})]})})));var ke=n(47650),Me=n(84174);var Oe=n(5227),Be=n(63361);const He={recoveryPhrase:"",walletName:"",walletPassword:"",plates:[],duplicatedWallet:null};var Ve=n(6951),Ye=n(22188),Ke=n(71954);const Fe=(0,d.defineMessages)({title:{id:"wallet.restore.title",defaultMessage:"!!!Restore existing wallet"},firstStep:{id:"wallet.restore.firstStep",defaultMessage:"!!!Select wallet type"},secondStep:{id:"wallet.restore.secondStep",defaultMessage:"!!!Enter recovery phrase"},thirdStep:{id:"wallet.restore.thirdStep",defaultMessage:"!!!Add wallet details"}}),ze=(0,d.injectIntl)((0,g.Pi)((function(e){var t,n;const{intl:a,stores:o,actions:i,restoreWallet:d,isDialogOpen:g,openDialog:x,closeDialog:h}=e,{profile:v,router:b,wallets:_}=i,{walletRestore:w,profile:E,wallets:W,tokenInfoStore:S}=o,[j,I]=(0,c.useState)(m.Z.isDev()||m.Z.isNightly()?f.SELECT_NETWORK:f.SELECT_WALLET_TYPE),[R,C]=(0,c.useState)(null),{recoveryPhrase:A,duplicatedWallet:D,setRestoreWalletData:N,resetRestoreWalletData:P}=function(){const[e,t]=(0,c.useState)(He);return{...e,setRestoreWalletData:e=>{t((t=>({...t,...e})))},resetRestoreWalletData:()=>t(He)}}(),k={isDialogOpen:g,openDialog:x,closeDialog:e=>{h(),function(e){localStorage.setItem((e=>`dialog__${e}`)(e),"true")}(e)}};function M(e){b.goToRoute.trigger(e)}function O(){M({route:Oe.ROUTES.WALLETS.ADD})}const B={[f.SELECT_NETWORK]:{stepId:f.SELECT_NETWORK,message:Fe.firstStep,component:(0,T.jsx)(Be.Z,{onSelect:e=>{v.setSelectedNetwork.trigger(e),I(f.SELECT_WALLET_TYPE),Ve.iN.restoreWalletTypeStepViewed()},goBack:O})},[f.SELECT_WALLET_TYPE]:{stepId:f.SELECT_WALLET_TYPE,message:Fe.firstStep,component:(0,T.jsx)(Z,{onNext:e=>{P(),m.Z.isDev()||m.Z.isNightly()||v.setSelectedNetwork.trigger(Me.networks.CardanoMainnet),(0,Ye.runInAction)((()=>{C(e),I(f.ENTER_RECOVERY_PHRASE)})),Ve.iN.restoreWalletEnterPhraseStepViewed({recovery_phrase_lenght:15===e.length?"15":"24"})},goBack:()=>{P(),m.Z.isDev()||m.Z.isNightly()?I(f.SELECT_NETWORK):O()}})},[f.ENTER_RECOVERY_PHRASE]:{stepId:f.ENTER_RECOVERY_PHRASE,message:Fe.secondStep,component:(0,T.jsx)(Pe,{mode:R,initialRecoveryPhrase:A,duplicatedWalletData:D?{plate:D.plate,conceptualWalletName:D.name,balance:D.balance,shouldHideBalance:E.shouldHideBalance,tokenInfo:S.tokenInfo,updateHideBalance:()=>v.updateHideBalance.trigger()}:null,isDialogOpen:g,openDialog:x,closeDialog:h,setCurrentStep:e=>{I(e),Ve.iN.restoreWalletDetailsStepViewed()},checkValidPhrase:e=>{if(!R)throw new Error("unexpected nullish restore mode");const t=w.isValidMnemonic({mnemonic:e,mode:R});return Ve.iN.restoreWalletEnterPhraseStepStatus({recovery_prhase_status:t}),t},openDuplicatedWallet:e=>{P(),_.setActiveWallet.trigger({publicDeriverId:e}),M({route:Oe.ROUTES.WALLETS.TRANSACTIONS})},onSubmit:async e=>{const t=W.wallets,n=w.selectedAccount,{selectedNetwork:a}=E;if(!a)throw new Error("unexpectedly missing selected network");const l=await(0,Ke.px)(t,e,n,a);return N({duplicatedWallet:l,recoveryPhrase:e}),null==l?void 0:l.publicDeriverId}})},[f.ADD_WALLET_DETAILS]:{stepId:f.ADD_WALLET_DETAILS,message:Fe.thirdStep,component:(0,T.jsx)(ke.Z,{isRecovery:!0,prevStep:()=>I(f.ENTER_RECOVERY_PHRASE),recoveryPhrase:A.split(" "),selectedNetwork:(0,De.forceNonNull)(E.selectedNetwork),onSubmit:(e,t)=>{if(!A)throw new Error("Recovery phrase must be generated first");if(!E.selectedNetwork)throw new Error("Network must be selected to create a wallet. Should never happen");d({walletName:e,walletPassword:t,recoveryPhrase:A}),Ve.iN.restoreWalletDetailsSettled()},...k})}},H=s()(t=r()(n=l()(B)).call(n,(e=>({stepId:B[e].stepId,message:B[e].message})))).call(t,(e=>e.stepId!==f.SELECT_NETWORK)),V=B[j].component;return j===f.SELECT_NETWORK?V:(0,T.jsxs)(p.Z,{children:[(0,T.jsxs)(p.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,T.jsx)(p.Z,{sx:{width:"56px",height:"48px",mb:"38px"},children:(0,T.jsx)("img",{src:y.Z,alt:"Yoroi",title:"Yoroi"})}),(0,T.jsx)(u.Z,{component:"div",variant:"h3",fontWeight:500,id:"restoreTitle",children:a.formatMessage(Fe.title)})]}),(0,T.jsx)(L.Z,{currentStep:j,setCurrentStep:I,steps:H}),V]})})))},25813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(23645),l=n.n(a)()((function(e){return e[1]}));l.push([e.id,".Stepper_stackContainer{align-items:center;justify-content:center;gap:24px;margin-top:24px;margin-bottom:48px}.Stepper_stackStep{width:24px;height:24px;display:flex;align-items:center;justify-content:center;margin-right:8px;border-width:2.5px;border-style:solid;border-radius:50%;transition:color 300ms ease}\n",""]),l.locals={stackContainer:"Stepper_stackContainer",stackStep:"Stepper_stackStep"};const o=l},78265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(23645),l=n.n(a),o=n(61667),r=n.n(o),i=n(93594),s=l()((function(e){return e[1]})),c=r()(i);s.push([e.id,".WalletInfo_wrapper{display:flex;align-items:center;flex-flow:row;width:100%;gap:16px}.WalletInfo_plateAndName{display:flex;align-items:center;justify-content:flex-start}.WalletInfo_content{display:flex;flex-direction:column;align-items:flex-start;margin-left:12px;color:var(--yoroi-palette-gray-600);font-size:14px;line-height:19px}.WalletInfo_name{font-weight:500;font-size:14px;line-height:22px;color:var(--yoroi-palette-gray-900);margin-right:4px;display:flex;align-items:center}.WalletInfo_icon{width:40px;height:40px}.WalletInfo_plate{color:var(--yoroi-palette-gray-600);font-weight:400;font-size:12px;line-height:20px}.WalletInfo_isLoading,.WalletInfo_amount .WalletInfo_isSyncing{position:relative;display:inline-block;margin-left:15px;margin-bottom:4px}.WalletInfo_toggleButton{margin-left:8px}.WalletInfo_toggleButton:hover{cursor:pointer}.WalletInfo_amount{font-weight:500;font-size:14px;line-height:22px;color:var(--yoroi-palette-gray-900)}.WalletInfo_amount .WalletInfo_isLoading,.WalletInfo_amount .WalletInfo_isSyncing{margin-left:9px;margin-bottom:8px;text-indent:-9999px}.WalletInfo_amount .WalletInfo_isLoading:after,.WalletInfo_amount .WalletInfo_isSyncing:after{content:'';width:14px;height:14px;position:absolute;top:calc(50% - 7px);left:calc(50% - 7px);background:url("+c+") no-repeat center;background-size:14px}.WalletInfo_amount .WalletInfo_isLoading:after,.WalletInfo_amount .WalletInfo_isSyncing:after{animation:loading-spin 1.5s linear;animation-iteration-count:infinite}.WalletInfo_amount .WalletInfo_isSyncing{margin-bottom:4px}.WalletInfo_amount+.WalletInfo_amount{margin-left:24px}.WalletInfo_amountAndHideIcon{display:flex;min-height:38px;align-items:flex-start;justify-content:flex-start}.WalletInfo_amountLabel{font-weight:400;display:block;font-size:12px;line-height:20px;color:var(--yoroi-palette-gray-600)}\n",""]),s.locals={wrapper:"WalletInfo_wrapper",plateAndName:"WalletInfo_plateAndName",content:"WalletInfo_content",name:"WalletInfo_name",icon:"WalletInfo_icon",plate:"WalletInfo_plate",isLoading:"WalletInfo_isLoading",amount:"WalletInfo_amount",isSyncing:"WalletInfo_isSyncing",toggleButton:"WalletInfo_toggleButton",amountAndHideIcon:"WalletInfo_amountAndHideIcon",amountLabel:"WalletInfo_amountLabel"};const d=s},55807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(23645),l=n.n(a)()((function(e){return e[1]}));l.push([e.id,".SelectWalletTypeStep_container{display:flex;align-items:center;justify-content:center;flex-direction:row;gap:24px}\n",""]),l.locals={container:"SelectWalletTypeStep_container"};const o=l}}]);